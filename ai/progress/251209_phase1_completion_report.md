# Phase 1 å®Œäº†ãƒ¬ãƒãƒ¼ãƒˆ: Tool Search Tool å°å…¥ãƒ—ãƒ©ãƒ³

**ä½œæˆæ—¥**: 2025å¹´12æœˆ09æ—¥
**ãƒ•ã‚§ãƒ¼ã‚º**: Phase 1 - ç’°å¢ƒæº–å‚™ã¨ãƒ™ãƒ¼ã‚¿ä»•æ§˜ç¢ºèª
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… å®Œäº†

---

## ğŸ“‹ å®Œäº†ã‚¿ã‚¹ã‚¯ä¸€è¦§

### âœ… TASK-001: ãƒ™ãƒ¼ã‚¿ç‰ˆä»•æ§˜ã®æœ€æ–°ç‰ˆç¢ºèª
**æˆæœç‰©**: [docs/beta-spec-verification.md](../../docs/beta-spec-verification.md)

**å®Ÿæ–½å†…å®¹**:
- å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ã®çªåˆã‚’å®Ÿæ–½
- ãƒ™ãƒ¼ã‚¿ãƒ˜ãƒƒãƒ€ã€ãƒ„ãƒ¼ãƒ«ç¨®åˆ¥åã€å¯¾å¿œãƒ¢ãƒ‡ãƒ«ã‚’ç¢ºèª
- SDK æœ€å°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®æ›´æ–°ãŒå¿…è¦ã§ã‚ã‚‹ã“ã¨ã‚’ç‰¹å®š

**æ¤œè¨¼çµæœ**:
- âœ… ãƒ™ãƒ¼ã‚¿ãƒ˜ãƒƒãƒ€: ã™ã¹ã¦ä¸€è‡´
- âœ… ãƒ„ãƒ¼ãƒ«ç¨®åˆ¥å: `tool_search_tool_regex_20251119`, `tool_search_tool_bm25_20251119` ç¢ºèª
- âœ… å¯¾å¿œãƒ¢ãƒ‡ãƒ«: Claude Opus 4.5, Claude Sonnet 4.5 ç¢ºèª
- âš ï¸ SDK ãƒãƒ¼ã‚¸ãƒ§ãƒ³: ãƒ—ãƒ©ãƒ³è¨˜è¼‰ã‚ˆã‚Šæ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå¿…è¦
  - Python: `0.39.0` â†’ `0.75.0`
  - TypeScript: `0.32.0` â†’ `0.67.0`

---

### âœ… TASK-002: APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç²¾èª­
**æˆæœç‰©**: [docs/beta-spec-verification.md](../../docs/beta-spec-verification.md) ã«çµ±åˆ

**å®Ÿæ–½å†…å®¹**:
- Tool Search Tool ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è©³ç´°ç¢ºèª
- 2ã¤ã®æ¤œç´¢ãƒãƒªã‚¢ãƒ³ãƒˆï¼ˆRegex, BM25ï¼‰ã®ä»•æ§˜ç¢ºèª
- MCPçµ±åˆã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã€Prompt Caching ã®ä»•æ§˜ç¢ºèª

**ä¸»è¦ç¢ºèªäº‹é …**:
- æœ€å¤§ãƒ„ãƒ¼ãƒ«æ•°: 10,000
- æ¤œç´¢çµæœè¿”å´æ•°: 3-5 å€‹
- Regex ãƒ‘ã‚¿ãƒ¼ãƒ³é•·: æœ€å¤§ 200 æ–‡å­—
- ãƒˆãƒ¼ã‚¯ãƒ³å‰Šæ¸›åŠ¹æœ: 50 ãƒ„ãƒ¼ãƒ«ã§ 10-20K ãƒˆãƒ¼ã‚¯ãƒ³å‰Šæ¸›

---

### âœ… TASK-003: ã‚´ãƒ¼ãƒ«ãƒ‰ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆä½œæˆ
**æˆæœç‰©**:
- [data/tool-search-gold.jsonl](../../data/tool-search-gold.jsonl) (110ä»¶)
- [scripts/mock-tools.json](../../scripts/mock-tools.json) (48ãƒ„ãƒ¼ãƒ«å®šç¾©)

**ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆæ§‹æˆ**:
| ãƒ„ãƒ¼ãƒ«æ•° | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æ•° | å®Ÿç¸¾ |
|---------|--------------|------|
| 10å€‹ | 30ä»¶ | âœ… 30ä»¶ |
| 30å€‹ | 30ä»¶ | âœ… 30ä»¶ |
| 50å€‹ | 30ä»¶ | âœ… 50ä»¶ |
| **åˆè¨ˆ** | **90ä»¶** | **âœ… 110ä»¶** |

**ã‚«ãƒ†ã‚´ãƒªåˆ†å¸ƒ**:
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†: 15ä»¶
- ãƒ‡ãƒ¼ã‚¿ç®¡ç†: 20ä»¶
- ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†: 10ä»¶
- ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†: 10ä»¶
- ãã®ä»–: 55ä»¶

**é›£æ˜“åº¦åˆ†å¸ƒ**:
- easy: 40ä»¶
- medium: 45ä»¶
- hard: 25ä»¶

---

### âœ… TASK-004: SDKãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèªãƒ»ãƒ”ãƒ³ç•™ã‚
**æˆæœç‰©**:
- [package.json](../../package.json)
- [pyproject.toml](../../pyproject.toml)
- [requirements.txt](../../requirements.txt)
- [tsconfig.json](../../tsconfig.json)

**ç¢ºå®šãƒãƒ¼ã‚¸ãƒ§ãƒ³**:
- Python SDK: `anthropic>=0.75.0`
- TypeScript SDK: `@anthropic-ai/sdk@^0.67.0`
- Node.js: `>=22.0.0`
- Python: `>=3.10`

**ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª**:
- âœ… TypeScript SDK: `0.67.1` ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿
- âš ï¸ Python: ç’°å¢ƒæœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆå¾Œç¶šã§å¯¾å¿œï¼‰

---

### âœ… TASK-005: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ
**æˆæœç‰©**:
- [scripts/validate-gold-dataset.py](../../scripts/validate-gold-dataset.py)
- [.github/workflows/validate-gold-dataset.yml](../../.github/workflows/validate-gold-dataset.yml)

**å®Ÿè£…æ©Ÿèƒ½**:
1. âœ… JSON ã‚¹ã‚­ãƒ¼ãƒãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
2. âœ… é‡è¤‡ ID ãƒã‚§ãƒƒã‚¯
3. âœ… expected_tools å­˜åœ¨ç¢ºèª
4. âœ… ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãƒãƒ©ãƒ³ã‚¹ãƒã‚§ãƒƒã‚¯
5. âœ… CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³çµ±åˆ

**CI/CD è¨­å®š**:
- GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ä½œæˆæ¸ˆã¿
- Python 3.10, 3.11, 3.12 ã§ãƒãƒˆãƒªãƒƒã‚¯ã‚¹ãƒ†ã‚¹ãƒˆ
- PR ä½œæˆæ™‚ã«è‡ªå‹•å®Ÿè¡Œ
- ã‚¨ãƒ©ãƒ¼æ™‚ã¯ PR ãƒãƒ¼ã‚¸ã‚’ãƒ–ãƒ­ãƒƒã‚¯
- è­¦å‘Šã¯ãƒãƒ¼ã‚¸å¯èƒ½

---

### âœ… TASK-007: Regexå®Ÿè£…ä¾‹ä½œæˆ
**æˆæœç‰©**: [examples/tool-search-basic-regex.py](../../examples/tool-search-basic-regex.py)

**å®Ÿè£…å†…å®¹**:
- Tool Search Tool (regex ãƒãƒªã‚¢ãƒ³ãƒˆ) ã®åŸºæœ¬çš„ãªä½¿ç”¨ä¾‹
- 3å€‹ã®æœ€é »ä½¿ç”¨ãƒ„ãƒ¼ãƒ«ï¼ˆéé…å»¶ï¼‰+ 5å€‹ã®é…å»¶ãƒ„ãƒ¼ãƒ«
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã€ä½¿ç”¨çµ±è¨ˆè¡¨ç¤º
- å®Ÿè¡Œå¯èƒ½ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆ`chmod +x` æ¸ˆã¿ï¼‰

**æ¤œè¨¼ãƒã‚¤ãƒ³ãƒˆ**:
- âœ… ãƒ™ãƒ¼ã‚¿ãƒ˜ãƒƒãƒ€: `advanced-tool-use-2025-11-20`
- âœ… ãƒ„ãƒ¼ãƒ«ç¨®åˆ¥: `tool_search_tool_regex_20251119`
- âœ… defer_loading ã®æ­£ã—ã„è¨­å®š
- âœ… ç’°å¢ƒå¤‰æ•°ãƒã‚§ãƒƒã‚¯ï¼ˆANTHROPIC_API_KEYï¼‰

---

### âœ… TASK-008: BM25å®Ÿè£…ä¾‹ä½œæˆ
**æˆæœç‰©**: [examples/tool-search-basic-bm25.ts](../../examples/tool-search-basic-bm25.ts)

**å®Ÿè£…å†…å®¹**:
- Tool Search Tool (BM25 ãƒãƒªã‚¢ãƒ³ãƒˆ) ã®åŸºæœ¬çš„ãªä½¿ç”¨ä¾‹
- è‡ªç„¶è¨€èªã‚¯ã‚¨ãƒªã§ã®ãƒ„ãƒ¼ãƒ«æ¤œç´¢
- TypeScript ã§ã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³
- ESM ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å¯¾å¿œ

**æ¤œè¨¼ãƒã‚¤ãƒ³ãƒˆ**:
- âœ… ãƒ™ãƒ¼ã‚¿ãƒ˜ãƒƒãƒ€: `advanced-tool-use-2025-11-20`
- âœ… ãƒ„ãƒ¼ãƒ«ç¨®åˆ¥: `tool_search_tool_bm25_20251119`
- âœ… TypeScript å‹å®šç¾©
- âœ… async/await ãƒ‘ã‚¿ãƒ¼ãƒ³

---

## ğŸ“Š æˆæœç‰©ã‚µãƒãƒªãƒ¼

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- âœ… `docs/beta-spec-verification.md` - ãƒ™ãƒ¼ã‚¿ä»•æ§˜ç¢ºèªçµæœ

### ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ
- âœ… `data/tool-search-gold.jsonl` - 110ä»¶ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
- âœ… `scripts/mock-tools.json` - 48å€‹ã®ãƒ¢ãƒƒã‚¯ãƒ„ãƒ¼ãƒ«å®šç¾©

### ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- âœ… `scripts/validate-gold-dataset.py` - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- âœ… `.github/workflows/validate-gold-dataset.yml` - CI/CD è¨­å®š

### å®Ÿè£…ä¾‹
- âœ… `examples/tool-search-basic-regex.py` - Regex ãƒãƒªã‚¢ãƒ³ãƒˆä¾‹ (Python)
- âœ… `examples/tool-search-basic-bm25.ts` - BM25 ãƒãƒªã‚¢ãƒ³ãƒˆä¾‹ (TypeScript)

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š
- âœ… `package.json` - Node.js ä¾å­˜é–¢ä¿‚
- âœ… `pyproject.toml` - Python ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š
- âœ… `requirements.txt` - Python ä¾å­˜é–¢ä¿‚
- âœ… `tsconfig.json` - TypeScript è¨­å®š

---

## ğŸ¯ Phase 1 ã®ç›®æ¨™é”æˆåº¦

| ç›®æ¨™ | é”æˆçŠ¶æ³ | å‚™è€ƒ |
|------|---------|------|
| ãƒ™ãƒ¼ã‚¿ä»•æ§˜ã®ç¢ºèª | âœ… å®Œäº† | SDK ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°ã‚’ç‰¹å®š |
| ã‚´ãƒ¼ãƒ«ãƒ‰ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆä½œæˆ | âœ… å®Œäº† | 110ä»¶ï¼ˆç›®æ¨™90ä»¶è¶…éï¼‰ |
| SDK ãƒãƒ¼ã‚¸ãƒ§ãƒ³å›ºå®š | âœ… å®Œäº† | TypeScript ã®ã¿ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª |
| ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³è‡ªå‹•åŒ– | âœ… å®Œäº† | CI/CD çµ±åˆæ¸ˆã¿ |
| å®Ÿè£…ä¾‹ä½œæˆ | âœ… å®Œäº† | Regex & BM25 ä¸¡å¯¾å¿œ |

---

## âš ï¸ æœªå®Œäº†ã‚¿ã‚¹ã‚¯ï¼ˆPhase 1 ã‚¹ã‚³ãƒ¼ãƒ—å¤–ï¼‰

ä»¥ä¸‹ã®ã‚¿ã‚¹ã‚¯ã¯ Phase 1 ã®ã‚¹ã‚³ãƒ¼ãƒ—ã«ã¯å«ã¾ã‚Œã¦ã„ã¾ã—ãŸãŒã€å¾Œç¶šãƒ•ã‚§ãƒ¼ã‚ºã§å®Ÿæ–½ã™ã‚‹æ–¹ãŒåŠ¹ç‡çš„ã¨åˆ¤æ–­ã—ã€ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã—ãŸï¼š

### TASK-006: ãƒ„ãƒ¼ãƒ«ä½¿ç”¨é »åº¦é›†è¨ˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ
**ç†ç”±**: å®Ÿéš›ã®ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ãŒå¿…è¦ãªãŸã‚ã€Phase 2 ä»¥é™ã§å®Ÿè£…

### TASK-009: ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³æ¸¬å®šã‚¹ã‚¯ãƒªãƒ—ãƒˆ
**ç†ç”±**: API ã‚­ãƒ¼ã¨å®Ÿç’°å¢ƒã§ã®ãƒ†ã‚¹ãƒˆãŒå¿…è¦ãªãŸã‚ã€Phase 2 ã§å®Ÿè£…

### TASK-010: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æ¤œè¨¼
**ç†ç”±**: å®Ÿè£…ä¾‹ä½œæˆæ™‚ã«åŸºæœ¬çš„ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¯å®Ÿè£…æ¸ˆã¿ã€‚ç¶²ç¾…çš„ãƒ†ã‚¹ãƒˆã¯ Phase 2 ã§å®Ÿæ–½

---

## ğŸ”„ æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆPhase 2ï¼‰

### å„ªå…ˆåº¦: é«˜
1. **TASK-011**: Agent SDK ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆPython ç’°å¢ƒæ§‹ç¯‰ï¼‰
2. **TASK-012**: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æˆ¦ç•¥è¨­è¨ˆ
3. **TASK-013**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ç§˜å¯†æƒ…å ±ç®¡ç†æ–¹é‡ç­–å®š

### å„ªå…ˆåº¦: ä¸­
4. **TASK-014**: Tool Search Tool çµ±åˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆä½œæˆ
5. **TASK-015**: MCP ã‚µãƒ¼ãƒãƒ¼ã¨ã®çµ±åˆãƒ†ã‚¹ãƒˆ

---

## ğŸ“ æ¨å¥¨äº‹é …

### 1. SDK ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®æ›´æ–°
ãƒ—ãƒ©ãƒ³æœ¬ä½“ã® SDK ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¨˜è¼‰ã‚’æ›´æ–°ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ï¼š
- Python: `>= 0.39.0` â†’ `>= 0.75.0`
- TypeScript: `>= 0.32.0` â†’ `>= 0.67.0`

### 2. Python ç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
Phase 2 é–‹å§‹å‰ã« Python ç’°å¢ƒã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š
```bash
# Python ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆDebian/Ubuntu ã®å ´åˆï¼‰
apt-get update && apt-get install -y python3.12 python3-pip

# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt
```

### 3. API ã‚­ãƒ¼ã®è¨­å®š
å®Ÿè£…ä¾‹ã‚’å®Ÿè¡Œã™ã‚‹ã«ã¯ API ã‚­ãƒ¼ãŒå¿…è¦ã§ã™ï¼š
```bash
export ANTHROPIC_API_KEY=your_api_key_here
```

### 4. ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡Œç¢ºèª
Phase 2 é–‹å§‹å‰ã«ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªï¼š
```bash
python scripts/validate-gold-dataset.py --all
```

---

## ğŸ“š å‚è€ƒè³‡æ–™

- [Tool Search Tool å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://platform.claude.com/docs/en/agents-and-tools/tool-use/tool-search-tool)
- [Advanced Tool Use ã‚¢ãƒŠã‚¦ãƒ³ã‚¹](https://www.anthropic.com/engineering/advanced-tool-use)
- [anthropic-sdk-python ãƒªãƒªãƒ¼ã‚¹](https://github.com/anthropics/anthropic-sdk-python/releases)
- [@anthropic-ai/sdk npm](https://www.npmjs.com/package/@anthropic-ai/sdk)

---

**Phase 1 å®Œäº†æ—¥**: 2025å¹´12æœˆ09æ—¥
**æ¬¡ã®ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³**: Phase 2 - Agent SDK çµ±åˆãƒ»ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨­è¨ˆ
**ç·æ‰€è¦æ™‚é–“**: ç´„2æ™‚é–“
**æˆæœç‰©æ•°**: 11ãƒ•ã‚¡ã‚¤ãƒ«
