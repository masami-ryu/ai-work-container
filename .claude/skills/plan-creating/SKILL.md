---
name: plan-creating
description: 実行可能なプランを作成する専門スキル。タスク分析・設計・プラン策定（Express/Standard/Comprehensive）、プランレビュー、プラン修正を担当。
allowed-tools: [Read, Grep, Glob, WebFetch, Write, Edit]
---

# Plan Creating

## Contents
- [概要](#概要)
- [主要機能](#主要機能)
- [使用方法](#使用方法)
  - [ワークフロー選択](#ワークフロー選択)
  - [プラン作成プロセス](#プラン作成プロセス)
  - [プランレビュープロセス](#プランレビュープロセス)
  - [プラン修正プロセス](#プラン修正プロセス)
- [Examples](#examples)
- [Guidelines](#guidelines)
  - [情報収集完了の判断基準](#情報収集完了の判断基準)
  - [品質チェックリスト](#品質チェックリスト)
  - [出力形式](#出力形式)
- [Limitations](#limitations)

## 概要

このスキルはタスクの分析から実行可能なプランの作成までを担当する。タスク規模に応じて適切なワークフローを選択し、具体的なアクションアイテムに変換し、品質チェックリストで検証した後、`ai/plans/`に保存する。

## 主要機能

- ワークフロー選択（Express/Standard/Comprehensive）
- プラン作成プロセスの実行
- プランレビュープロセスの実行
- プラン修正プロセスの実行
- 品質チェックリストによる検証

## 使用方法

### ワークフロー選択

タスクの規模に応じて適切なワークフローを選択。詳細は各ワークフローファイルを参照:

- **Express（簡易プラン）**: [workflows/express.md](workflows/express.md)
  - 変更対象が2ファイル以下、影響範囲が限定的
  - 例: READMEの更新、1-2ファイルの変更

- **Standard（標準プラン）**: [workflows/standard.md](workflows/standard.md)
  - 中程度の複雑さ、3-10ファイルに影響
  - 例: 新機能追加、複数ファイルのリファクタリング

- **Comprehensive（詳細プラン）**: [workflows/comprehensive.md](workflows/comprehensive.md)
  - アーキテクチャ変更、多数のファイルに影響
  - 例: マイクロサービス化、大規模リアーキテクチャ

### プラン作成プロセス

| ステップ | アクション |
|---------|-----------|
| 1. 目的明確化 | 要求理解、スコープ・成果定義 |
| 2. 情報収集 | `Grep`/`Glob`でコードベース検索、依存関係分析 |
| 3. ベストプラクティス調査 | `WebFetch`で最新情報・設計パターン取得 |
| 4. ステップ分解 | アクションアイテム化、Phase分割、完了条件明記 |
| 5. 品質検証 | チェックリスト実行 |
| 6. 出力 | `ai/plans/YYMMDD_[概要].md`に保存 |

### プランレビュープロセス

1. プラン読み込み → 全体構成・目的理解
2. `WebFetch`でベストプラクティス調査 → 妥当性評価
3. 改善点特定 → フィードバック提供
4. レビュー結果を `ai/reviews/`に保存

### プラン修正プロセス

| ステップ | アクション |
|---------|-----------|
| 1. 修正箇所特定 | レビュー結果から特定、影響範囲評価 |
| 2. 再調査 | 必要に応じて最新情報再取得 |
| 3. 修正実施 | `Edit`（局所的）または`Write`（全体的） |
| 4. 再検証 | チェックリスト実行、変更履歴追記 |

## Examples

**例1: Express ワークフロー - README更新**

Express選択 → README確認 → 簡潔なプラン作成 → チェックリスト → `ai/plans/251220_readme-update.md` 保存

**例2: Standard ワークフロー - 認証機能追加**

Standard選択 → Glob/Grep検索 → WebFetch調査 → Phase分割（設計・実装・テスト） → チェックリスト → `ai/plans/251220_authentication-feature.md` 保存

**例3: Comprehensive ワークフロー - マイクロサービス移行**

Comprehensive選択 → 依存関係分析 → ベストプラクティス調査 → リスク分析 → 5Phase構成 → 各Phase検証 → `ai/plans/251220_microservices-migration.md` 保存

**例4: プランレビュー**

プラン読込 → ベストプラクティス調査・評価 → 改善点特定 → `ai/reviews/` 保存

**例5: プラン修正**

レビュー確認 → 修正箇所特定 → Edit/Write実施 → チェックリスト再実行 → 変更履歴追記

## Guidelines

### 情報収集完了の判断基準

対象ファイル特定、既存パターン把握、依存関係理解、技術的制約把握、ベストプラクティス取得が完了していること。

### 品質チェックリスト

**チェック項目**: 完全性、アクション可能性、測定可能性、依存関係、リスク対応

**検証タイミング**:
- Express: 作成直後1回
- Standard: 設計後・作成後2回
- Comprehensive: 各フェーズ完了時

### 出力形式

- **保存先**: `ai/plans/YYMMDD_[概要].md`
- **テンプレート**: `ai/templates/plan-template.md`を参照
- **言語**: 日本語
- **必須セクション**: ヘッダー、概要、要件と制約、実装ステップ、成功基準、次のアクション

## Limitations

- ソースコードの直接編集は行わない
- プランファイル（.md）の作成・編集のみ
- レビュー結果は `ai/reviews/`に出力
- WebFetchの利用可能性に依存（外部ドキュメント検索）

## Version History

- **1.1.0** (2025-12-20): Progressive Disclosure適用（ワークフロー詳細を分離、時間推定を削除、SKILL.md簡略化）
- **1.0.0** (2025-12-20): 初版リリース
